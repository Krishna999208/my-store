<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Tech Hub | Premium Store</title>
    <style>
        :root { --primary: #001529; --accent: #ff9900; --gold: #ffd700; --bg: #f0f2f5; }
        body { font-family: 'Poppins', sans-serif; margin: 0; background: var(--bg); color: #333; scroll-behavior: smooth; }
        
        /* Attractive Gradient Header */
        header { background: linear-gradient(90deg, #001529 0%, #003a8c 100%); color: white; padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .logo { font-size: 26px; font-weight: 800; letter-spacing: 1px; color: var(--gold); text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        
        /* Floating Cart Button */
        .cart-box { background: var(--accent); color: white; padding: 10px 20px; border-radius: 30px; cursor: pointer; font-weight: bold; box-shadow: 0 4px 15px rgba(255,153,0,0.4); transition: 0.3s; display: flex; align-items: center; gap: 8px; }
        .cart-box:hover { transform: scale(1.05); background: #e68a00; }

        .container { max-width: 1200px; margin: 40px auto; padding: 0 20px; }
        
        /* Modern Product Cards */
        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .product-card { background: white; border-radius: 20px; overflow: hidden; position: relative; transition: 0.4s; box-shadow: 0 10px 30px rgba(0,0,0,0.08); border: 1px solid rgba(0,0,0,0.05); }
        .product-card:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.15); }
        
        .product-img { width: 100%; height: 200px; background: #eee; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #999; }
        .product-info { padding: 25px; text-align: left; }
        .product-info h3 { margin: 0 0 10px; font-size: 22px; color: var(--primary); }
        .price { font-size: 24px; font-weight: 700; color: #d32f2f; margin: 10px 0; }
        
        /* Styled Buttons */
        .btn { background: var(--primary); color: white; border: none; padding: 14px; border-radius: 12px; cursor: pointer; width: 100%; font-size: 16px; font-weight: 600; transition: 0.3s; margin-top: 10px; }
        .btn:hover { background: #003a8c; box-shadow: 0 5px 15px rgba(0,58,140,0.3); }
        
        /* Admin Section Glassmorphism */
        #admin-panel { display: none; background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); margin-top: 50px; padding: 40px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.3); box-shadow: 0 20px 50px rgba(0,0,0,0.1); }
        table { width: 100%; border-collapse: collapse; border-radius: 10px; overflow: hidden; }
        th { background: var(--primary); color: white; padding: 15px; text-align: left; }
        td { padding: 15px; border-bottom: 1px solid #eee; background: white; }
    </style>
</head>
<body>

<header>
    <div class="logo">SMART TECH HUB</div>
    <div style="display: flex; gap: 20px; align-items: center;">
        <span onclick="toggleAdmin()" style="color:rgba(255,255,255,0.8); cursor:pointer; font-size: 14px;">Admin Portal</span>
        <div class="cart-box" onclick="checkout()">
            <span>ðŸ›’</span> Cart (<span id="count">0</span>)
        </div>
    </div>
</header>

<div class="container">
    <div class="product-grid">
        <div class="product-card">
            <div class="product-img" style="background: linear-gradient(45deg, #e3f2fd, #bbdefb);">REFRIGERATOR</div>
            <div class="product-info">
                <h3>Samsung Digital Inverter</h3>
                <p>Advanced cooling for Purulia homes. Energy efficient.</p>
                <div class="price">â‚¹18,990</div>
                <button class="btn" onclick="addToCart('Samsung Refrigerator', 18990)">Add to Cart</button>
            </div>
        </div>
        <div class="product-card">
            <div class="product-img" style="background: linear-gradient(45deg, #f3e5f5, #e1bee7);">SMARTPHONE</div>
            <div class="product-info">
                <h3>iPhone Style 5G</h3>
                <p>Cinematic camera & high-speed gaming performance.</p>
                <div class="price">â‚¹14,499</div>
                <button class="btn" onclick="addToCart('Smartphone 5G', 14499)">Add to Cart</button>
            </div>
        </div>
    </div>

    <div id="admin-panel">
        <h2 style="color: var(--primary); border-left: 5px solid var(--accent); padding-left: 15px;">Live Customer Orders</h2>
        <table id="ordersTable">
            <thead>
                <tr><th>Customer</th><th>Phone</th><th>Address (Purulia)</th><th>Items</th></tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyC0fX9yqW...", // Screenshot wali key
        authDomain: "smart-tech-hub-477e2.firebaseapp.com",
        projectId: "smart-tech-hub-477e2",
        storageBucket: "smart-tech-hub-477e2.firebasestorage.app",
        messagingSenderId: "999576773486",
        appId: "1:999576773486:web:04deb401b9ffe8e1df2f1cc"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    let cart = [];

    window.addToCart = function(name, price) {
        cart.push({name, price});
        document.getElementById('count').innerText = cart.length;
        alert("Success! " + name + " cart mein add ho gaya! ðŸš€");
    };

    window.checkout = async function() {
        if(cart.length === 0) { alert("Pehle saaman cart mein add karein! ðŸ›’"); return; }
        
        const name = prompt("Aapka Naam:");
        const phone = prompt("Mobile Number:");
        const address = prompt("Delivery Address (Lokoseth Para, Purulia, etc.):");
        
        if(!name || !phone || !address) { alert("Details dena zaroori hai! âŒ"); return; }

        const itemsStr = cart.map(i => i.name).join(", ");
        try {
            await addDoc(collection(db, 'orders'), {
                customer: name, phone: phone, address: address, items: itemsStr, timestamp: new Date()
            });
            alert("Mubarak Ho! Aapka order address ke saath save ho gaya. âœ…");
            cart = [];
            document.getElementById('count').innerText = "0";
        } catch (e) { alert("Connection Error!"); }
    };

    window.toggleAdmin = function() {
        const p = document.getElementById('admin-panel');
        p.style.display = p.style.display === 'block' ? 'none' : 'block';
        if(p.style.display === 'block') loadOrders();
    };

    async function loadOrders() {
        const querySnapshot = await getDocs(collection(db, 'orders'));
        const tableBody = document.querySelector('#ordersTable tbody');
        tableBody.innerHTML = '';
        querySnapshot.forEach((doc) => {
            const data = doc.data();
            tableBody.innerHTML += `<tr><td>${data.customer}</td><td>${data.phone}</td><td>${data.address}</td><td>${data.items}</td></tr>`;
        });
    }
</script>
</body>
</html>
